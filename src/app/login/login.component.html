@if (showLogo) {
  <header class="w-full h-full absolute top-0 left-0 flex justify-center items-center z-10">
    <img src="assets/img/join_logo.svg" alt="join-logo.svg" class=" h-80 w-64 animate-fadeouttopleft">
  </header>
}

<header class="flex justify-between items-center p-7 fade-in" [class.show]="showContent">
  <img class="h-20 w-12 min-h-950:h-32 min-h-950:w-24" src="assets/img/join_logo.svg" alt="join-logo.svg" />
  <div class="hidden 800:flex">
    <span class="font-normal text-xl mr-9">Not a Join user?</span>
    <app-button
      text="Sign Up"
      btnStyle="primary"
      routerLink="/signUp"
    ></app-button>
  </div>
</header>

<main
  class="
    fade-in flex justify-center items-center flex-col gap-8
    min-h-950:absolute min-h-950:top-1/2 min-h-950:left-1/2 min-h-950:-translate-x-1/2 min-h-950:-translate-y-1/2 min-h-950:gap-20
    "
  [class.show]="showContent"
>
  <form (ngSubmit)="login(false, $event)" class="w-dvw 500:w-110 shadow-custom 500:rounded-3xl flex items-center flex-col px-6 py-6 bg-white">
    <h1 class="text-6xl mb-8">Login</h1>
    <div class="rounded-sm bg-blue-primary h-1 w-24 mb-8"></div>
    <div class="w-3/4 flex flex-col gap-8">
      <app-input-field
        type="text"
        name="username"
        [(ngModel)]="username"
        placeholder="Username"
        iconClass="pi pi-user"
      ></app-input-field>

      <app-input-field
        [type]="showPassword ? 'text' : 'password'"
        name="password"
        [(ngModel)]="password"
        placeholder="Password"
        [iconDynamicClass]="{
          'pi-lock': !showPassword,
          'pi-lock-open': showPassword
        }"
        (iconClick)="togglePasswordVisibility()"
      ></app-input-field>
    </div>

    <div class="flex justify-between w-3/4 my-8">
      <div>
        <p-checkbox
          class="border-2 border-gray-input rounded-sm mr-2"
          [(ngModel)]="rememberMe"
          [binary]="true"
          name="rememberMe"
        ></p-checkbox>
        <span>Remember Me</span>
      </div>
    </div>

    <div class="flex justify-between w-3/4 420:h-9 flex-col 420:flex-row h-full gap-14 items-center">
      <app-button
        type="submit"
        text="Login"
        btnStyle="primary"
        class="420:w-fit w-44"
      ></app-button>
      <app-button
        text="Guest-Login"
        btnStyle="secondary"
        (click)="login(true, $event)"
        class="420:w-fit w-44"
      ></app-button>
    </div>
    <p-progressSpinner
      styleClass="custom-spinner"
      strokeWidth="3"
      fill="var(--surface-ground)"
      animationDuration="1s"
      class="mt-8"
      [ngClass]="{ 'opacity-100': isLoading, 'opacity-0': !isLoading }"
    />
  </form>

  <div class="flex 800:hidden justify-center">
    <span class="font-normal text-xl mr-9">Not a Join user?</span>
    <app-button
      text="Sign Up"
      btnStyle="primary"
      routerLink="/signUp"
    ></app-button>
  </div>
</main>

<footer
  class="
    min-h-780:absolute min-h-780:bottom-8 min-h-780:left-1/2 min-h-780:-translate-x-1/2 min-h-780:py-0
    fade-in flex gap-8 w-full justify-center py-8
    "
  [class.show]="showContent">
  <a routerLink="/privacy-policy" class="text-gray-400 hover:text-blue-primary">Privacy Policy</a>
  <a routerLink="/legal-notice" class="text-gray-400 hover:text-blue-primary">Legal Notice</a>
</footer>

<p-toast />
